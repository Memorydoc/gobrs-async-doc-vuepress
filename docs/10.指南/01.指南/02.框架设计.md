---
title: 框架设计
date: 2020-05-11 13:54:03
permalink: /pages/a2f161
article: false
---


Gobrs-Async 在设计时，就充分考虑了开发者的使用习惯， 没有依赖任何中间件。 只是对 <code>CompletableFuture</code> 做了良好的封装。
填补了 <code>CompletableFuture</code> 在异常捕获中和API使用中的不足。




## 任务触发器

### GobrsTaskFlow

任务流的启动者， 负责启动任务执行流

## 规则解析引擎
### RuleParseEngine

负责解析使用者配置的规则，同时于Spring结合，将配置的 <code>Spring Bean</code> 解析成 <code>TaskBean</code>，进而通过解析引擎加载成 任务装饰器。进而组装成任务树


## 任务启动器
### AsyncStarter


负责通过使用解析引擎解析的任务树。结合 <code>CompletableFuture</code> 发起任务调用

## 任务装饰器 

### TaskWrapper

对使用者所开发的SpringBean 包装修饰。 间接调用使用这开发的功能方法，通过状态管理（借鉴AQS）实现对任务的状态和任务流的状态进行管理。 

## 架构图
<br/>

![1.0](https://kevin-cloud-dubbo.oss-cn-beijing.aliyuncs.com/gobrs-async/1231646558079_.pic_hd.jpg)
