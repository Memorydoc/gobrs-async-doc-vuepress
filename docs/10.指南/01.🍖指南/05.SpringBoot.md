---
title: ğŸŒ­SpringBoot 
date: 2020-05-11 13:54:56 
permalink: /pages/2f674a 
article: false

---

## å‡†å¤‡æ¡ä»¶

æ‰€éœ€è¿è¡Œç¯å¢ƒ

* **Maven**
* **JDK1.8**
* **Spring**

:::tip æç¤º
æœ¬æ¡†æ¶ä¸ºå¤æ‚ä¸Šæ¸¸è°ƒç”¨äº†é€»è¾‘è€Œè®¾è®¡ï¼Œ å¦‚æœåªæ˜¯å•çº¯çš„ä½¿ç”¨å¤šçº¿ç¨‹å¼€å‘ä»»åŠ¡ï¼Œ å¦‚æœ<code>Future</code> æˆ–çº¿ç¨‹æ± å°±å¯æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œæ— éœ€ä½¿ç”¨æœ¬æ¡†æ¶ã€‚ å¦‚æœä¸æ¸…æ¥šæœ¬æ¡†æ¶çš„ä½¿ç”¨åœºæ™¯ï¼Œ
è¯·é˜…è¯» [ç®€ä»‹](/pages/52d5c3 )
:::

## Gobrs-Async é…ç½®

> å…¬ç½‘
### Mavenä¾èµ–

```xml

<dependency>
    <groupId>io.github.memorydoc</groupId>
    <artifactId>gobrs-async-starter</artifactId>
    <version>1.2.1-RELEASE</version>
</dependency>

```

> äº¬ä¸œå†…ç½‘
```xml
<dependency>
    <groupId>com.jd.gobrs</groupId>
    <artifactId>gobrs-async-starter</artifactId>
    <version>1.0.1-SNAPSHOT</version>
</dependency>
```


### é…ç½® application.yml

```yaml
server:
  port: 8888 # ç«¯å£: 8080
spring:
  gobrs:
    async:
      rules:
        # æ”¯æŒå¤šå‘½åç©ºé—´
        - name: "ruleName" # è§„åˆ™åç§° 
          content: "AService->BService,CService,FService; BService->FService,GService;"
        - name: "azh"
          content: "AService->BService,CService,FService; BService->FService,GService;"
      task-interrupt: false #å±€éƒ¨å¼‚å¸¸æ˜¯å¦æ‰“æ–­ä¸»æµç¨‹
```

### å¯åŠ¨æˆåŠŸ
å¯åŠ¨å·¥ç¨‹æ‰“å°å¦‚ä¸‹<code>banner</code>
```sh  
              ___.                             _____                               
   ____   ____\_ |_________  ______           /  _  \   _________.__. ____   ____  
  / ___\ /  _ \| __ \_  __ \/  ___/  ______  /  /_\  \ /  ___<   |  |/    \_/ ___\ 
 / /_/  >  <_> ) \_\ \  | \/\___ \  /_____/ /    |    \\___ \ \___  |   |  \  \___ 
 \___  / \____/|___  /__|  /____  >         \____|__  /____  >/ ____|___|  /\___  >
/_____/            \/           \/                  \/     \/ \/         \/     \/  :: Gobrs-Async ::                jdk (v1.8.0_251)

GitHub:  https://github.com/Memorydoc/gobrs-async
Site:    https://docs.sizegang.cn
```


## ä½¿ç”¨ä»»åŠ¡è§¦å‘å™¨

```java 
@Autowired
private GobrsAsync gobrsAsync;
```

## å¯åŠ¨ä»»åŠ¡æµç¨‹

```java 
// ä¸€è¡Œä»£ç å³å¯å¯åŠ¨ä»»åŠ¡æµç¨‹

Map<String, Object> params  = new HashMap();
// ä»»åŠ¡æµç¨‹åç§° , ä»»åŠ¡æµç¨‹ä¼ å…¥å‚æ•°, ä»»åŠ¡æµç¨‹è¶…æ—¶æ—¶é—´ 
AsyncResult asyncResult = gobrsAsync.go("ruleName", () -> params, timeOut);
```

ä»»åŠ¡æµç¨‹çš„paramså‚æ•° æœ‰ä¸¤ç§å‚æ•°å½¢å¼ã€‚
### å‚æ•°ç±»å‹ä¸€
å¦‚æœä»»åŠ¡æµç¨‹ä¸­æ‰€æœ‰ä»»åŠ¡ éƒ½æ˜¯ç”¨åŒä¸€ä¸ªå‚æ•°è¿›è¡Œä¼ é€’ä¼ é€’ï¼ˆç±»ä¼¼äºDataContext ä¸Šä¸‹æ–‡ï¼‰ï¼Œ åˆ™params ç›´æ¥ä¼ å…¥å…¬ç”¨çš„åŒä¸€ä¸ªå‚æ•°å³å¯
```java 
User user = new User();
AsyncResult asyncResult = gobrsAsync.go("ruleName", () -> user, timeOut);
```


### å‚æ•°ç±»å‹äºŒ
å¦‚æœä»»åŠ¡æµç¨‹ä¸­ä¸åŒä»»åŠ¡ä½¿ç”¨ä¸åŒçš„å‚æ•°ã€‚åˆ™å‚æ•°éœ€è¦ä¼ é€’Mapç±»å‹ï¼Œ Mapçš„key ä¸º ä»»åŠ¡bean åç§°ï¼Œ å€¼ä¸ºæ‰€éœ€è¦ä¼ é€’çš„å‚æ•°å€¼ã€‚

```java 
User user = new User();
Fruit fruit = new Fruit();
Map<String,Object> params = new HashMap();
// éœ€è¦ä¼ é€’å‚æ•°çš„ bean ç±»ï¼Œ è€ƒè™‘å¼€å‘è€…å¼€å‘å–œæ¬¢ï¼Œç›´æ¥keyè®¾è®¡æˆclass ç±»å‹
params.put(AService.class, user);
params.put(BService.class, fruit);

AsyncResult asyncResult = gobrsAsync.go("ruleName", () -> params, timeOut);
```


## é€‰æ‹©æ‰§è¡Œä»»åŠ¡
åœ¨application.yml ä¸­ é…ç½®çš„ä»»åŠ¡æµç¨‹ï¼Œ éå¿…è¦æ‰§è¡Œé…ç½®çš„æ‰€æœ‰ä»»åŠ¡å¦‚ä¸‹ï¼š
![image-20220809221727601](https://kevin-cloud-dubbo.oss-cn-beijing.aliyuncs.com/gobrs-async/image-20220809221727601.png)

### ä»»åŠ¡é…ç½®
```yaml
 "AService->BService->FService;HService,EService,GService"
```
å¦‚æœç”¨æˆ·åœ¨ä½¿ç”¨æ—¶åªå¸Œæœ›æ‰§è¡Œ FService , åˆ™åœ¨ä»»åŠ¡é“¾ä¸­ åªéœ€è¦æ‰§è¡ŒAServiceã€BServiceã€FService å³å¯ã€‚ æ— éœ€æ‰§è¡ŒHã€Eã€Gä»»åŠ¡ã€‚

#### é€‚åº”åœºæ™¯
åœ¨åš **ISV**  ([äº¬ä¸œå•†åŸISVç»„ä»¶åŒ–å»ºè®¾](https://developer.51cto.com/article/712050.html))  å»ºè®¾æ—¶ï¼Œ æ¥¼å±‚ä¸­çš„å¤šä¸ªç»„ä»¶å¯èƒ½å­˜åœ¨ç€ä»»åŠ¡æµç¨‹çš„ç¼–æ’ï¼Œ æ‰€éœ€è¦çš„ä¸Šæ¸¸æ•°æ®æ•°é‡å¤šå°‘ä¸ä¸€ï¼Œæ‰€ä»¥æ­¤æ—¶å°±éœ€è¦è¿›è¡Œç¼–æ’æµç¨‹ä¸­çš„ä»»åŠ¡é€‰æ‹©æ‰§è¡Œå¤„ç†äº†ã€‚
å¦‚ä¸‹å¯¹æ¯ä¸ªç»„ä»¶è¿›è¡Œç¼–æ’æ•°æ®ç¼–æ’å¤„ç†
![image-20220809222627074](https://kevin-cloud-dubbo.oss-cn-beijing.aliyuncs.com/gobrs-async/image-20220809222627074.png)


