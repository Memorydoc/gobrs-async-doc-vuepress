---
title: ğŸ–hippo4j
date: 2020-05-11 13:54:56
permalink: /pages/2ff434s
article: false
---

## Hippo4j çº¿ç¨‹æ± ç›‘æ§
[Hippo4j](https://hippo4j.cn/) æ˜¯ä¸€æ¬¾åŠ¨æ€çº¿ç¨‹æ± ç›‘æ§æ¡†æ¶, `Gobrs-Async` ä½œä¸ºæ’ä»¶çš„æ–¹å¼å¼•å…¥ï¼Œå¼€å‘è€…å¯ä»¥æ— æ„ŸçŸ¥çš„å¯¹
`Gobrs-Async` å¯åŠ¨çš„çº¿ç¨‹æ± è¿›è¡Œç›‘æ§ã€‚é…ç½®çº¿ç¨‹æ± ç›‘æ§å·¥å…·æ¥æŸ¥çœ‹è¿è¡Œæ—¶çº¿ç¨‹æ± å·¥ä½œçŠ¶æ€ï¼Œä¼šè®©ä½ åœ¨å¤šçº¿ç¨‹å¼€å‘è¿‡ç¨‹ä¸­æ›´åŠ å¾—å¿ƒåº”æ‰‹ï¼


## ä½¿ç”¨æ–¹å¼
### pom.xml ä¾èµ–å¼•å…¥

```xml  
<dependency>
    <groupId>io.github.memorydoc</groupId>
    <artifactId>gobrs-async-hippo4j-plugin</artifactId>
    <version>1.3.0-RELEASE</version>
</dependency>
```

### é…ç½®é›†æˆ
æ’ä»¶ä¿ç•™`Hippo4j`çš„åŸå§‹é…ç½®ï¼Œå¦‚æœå¯¹`Hippo4j`é…ç½®æ–¹å¼ä¸äº†è§£çš„å°ä¼™ä¼´å¯ä»¥æŸ¥çœ‹å®˜ç½‘äº†è§£è¯¦æƒ…ã€‚

:::tip
`Hippo4j Server`ç«¯éœ€è¦å¼€å‘è€…è‡ªè¡Œéƒ¨ç½²å“¦ï¼[å‚ç…§æ–‡æ¡£](https://hippo4j.cn/docs/user_docs/user_guide/quick-start)
:::

```yaml
spring:
  dynamic:
    thread-pool:
      # æ˜¯å¦å¼€å¯åŠ¨æ€çº¿ç¨‹æ± 
      enable: true
      # æ˜¯å¦æ‰“å° banner
      banner: true
      # æ˜¯å¦å¼€å¯çº¿ç¨‹æ± æ•°æ®é‡‡é›†ï¼Œå¯¹æ¥ Micrometerã€ESã€Log ç­‰
      collect: true
      # æ£€æŸ¥çº¿ç¨‹æ± çŠ¶æ€ï¼Œæ˜¯å¦è¾¾åˆ°æŠ¥è­¦æ¡ä»¶ï¼Œå•ä½æ¯«ç§’
      check-state-interval: 3000
      # é€šçŸ¥æŠ¥è­¦å¹³å°ï¼Œè¯·æ›¿æ¢ä¸ºè‡ªå·±åˆ›å»ºçš„ç¾¤æœºå™¨äºº
      notify-platforms:
        - platform: 'WECHAT'
          token: xxx
        - platform: 'DING'
          token: xxx
          secret: xxx  # åŠ ç­¾ä¸“å±
        - platform: 'LARK'
          token: xxx
      # Nacosã€Apolloã€Zookeeperã€ETCDã€Polaris ä»»é€‰å…¶ä¸€
      nacos:
        data-id: xxx
        group: xxx
      apollo:
        namespace: xxxx
      # é…ç½®ä¸­å¿ƒæ–‡ä»¶æ ¼å¼
      config-file-type: yml
      # tomcatã€undertowã€jetty ä¸‰ç§å®¹å™¨çº¿ç¨‹æ± ï¼Œä»»é€‰å…¶ä¸€
      undertow:
        core-pool-size: 100
        maximum-pool-size: 200
        keep-alive-time: 1000
      # å…¨å±€é€šçŸ¥é…ç½®-æ˜¯å¦æŠ¥è­¦
      alarm: true
      # æ´»è·ƒåº¦æŠ¥è­¦é˜ˆå€¼ï¼›å‡è®¾çº¿ç¨‹æ± æœ€å¤§çº¿ç¨‹æ•° 10ï¼Œå½“çº¿ç¨‹æ•°è¾¾åˆ° 8 å‘èµ·æŠ¥è­¦
      active-alarm: 80
      # å®¹é‡æŠ¥è­¦é˜ˆå€¼ï¼›å‡è®¾é˜»å¡é˜Ÿåˆ—å®¹é‡ 100ï¼Œå½“å®¹é‡è¾¾åˆ° 80 å‘èµ·æŠ¥è­¦
      capacity-alarm: 80
      # æŠ¥è­¦é—´éš”ï¼ŒåŒä¸€çº¿ç¨‹æ± ä¸‹åŒä¸€æŠ¥è­¦çº¬åº¦ï¼Œåœ¨ interval æ—¶é—´å†…åªä¼šæŠ¥è­¦ä¸€æ¬¡ï¼Œå•ä½ç§’
      alarm-interval: 8
      # ä¼ä¸šå¾®ä¿¡å¡«å†™ç”¨æˆ· IDï¼ˆå¡«å†™å…¶å®ƒå°†æ— æ³•è¾¾åˆ° @ æ•ˆæœï¼‰ã€é’‰é’‰å¡«æ‰‹æœºå·ã€é£ä¹¦å¡« ou_ å¼€å¤´å”¯ä¸€ ID
      receives: xxx
      # åŠ¨æ€çº¿ç¨‹æ± åˆ—è¡¨
      executors:
        - thread-pool-id: 'message-consume'
          # æ ¸å¿ƒçº¿ç¨‹æ•°
          core-pool-size: 1
          # æœ€å¤§çº¿ç¨‹æ•°
          maximum-pool-size: 1
          # é˜»å¡é˜Ÿåˆ—åç§°ï¼Œå‚è€ƒ BlockingQueueTypeEnumï¼Œæ”¯æŒ SPI
          blocking-queue: 'LinkedBlockingQueue'
          # é˜»å¡é˜Ÿåˆ—å¤§å°
          queue-capacity: 1
          # æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡æ­¤æ—¶é—´å‘èµ·æŠ¥è­¦ï¼Œå•ä½æ¯«ç§’
          execute-time-out: 1000
          # æ‹’ç»ç­–ç•¥åç§°ï¼Œå‚è€ƒ RejectedPolicyTypeEnumï¼Œæ”¯æŒ SPI
          rejected-handler: 'AbortPolicy'
          # çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼Œå•ä½ç§’
          keep-alive-time: 1024
          # æ˜¯å¦å…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶
          allow-core-thread-time-out: true
          # çº¿ç¨‹å·¥å‚åç§°å‰ç¼€
          thread-name-prefix: 'message-consume'
          # æ˜¯å¦æŠ¥è­¦
          alarm: true
          # æ´»è·ƒåº¦æŠ¥è­¦é˜ˆå€¼ï¼›å‡è®¾çº¿ç¨‹æ± æœ€å¤§çº¿ç¨‹æ•° 10ï¼Œå½“çº¿ç¨‹æ•°è¾¾åˆ° 8 å‘èµ·æŠ¥è­¦
          active-alarm: 80
          # å®¹é‡æŠ¥è­¦é˜ˆå€¼ï¼›å‡è®¾é˜»å¡é˜Ÿåˆ—å®¹é‡ 100ï¼Œå½“å®¹é‡è¾¾åˆ° 80 å‘èµ·æŠ¥è­¦
          capacity-alarm: 80
          # é€šçŸ¥é…ç½®ï¼Œçº¿ç¨‹æ± ä¸­é€šçŸ¥é…ç½®å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šè¦†ç›–å…¨å±€é€šçŸ¥é…ç½®
          notify:
            # æŠ¥è­¦é—´éš”ï¼ŒåŒä¸€çº¿ç¨‹æ± ä¸‹åŒä¸€æŠ¥è­¦çº¬åº¦ï¼Œåœ¨ interval æ—¶é—´å†…åªä¼šæŠ¥è­¦ä¸€æ¬¡ï¼Œå•ä½åˆ†é’Ÿ
            interval: 8
            # ä¼ä¸šå¾®ä¿¡å¡«å†™ç”¨æˆ· IDï¼ˆå¡«å†™å…¶å®ƒå°†æ— æ³•è¾¾åˆ° @ æ•ˆæœï¼‰ã€é’‰é’‰å¡«æ‰‹æœºå·ã€é£ä¹¦å¡« ou_ å¼€å¤´å”¯ä¸€ ID
            receives: xxx
        - thread-pool-id: 'message-produce'
          core-pool-size: 1
          maximum-pool-size: 1
          queue-capacity: 1
          execute-time-out: 1000
          blocking-queue: 'LinkedBlockingQueue'
          rejected-handler: 'AbortPolicy'
          keep-alive-time: 1024
          allow-core-thread-time-out: true
          thread-name-prefix: 'message-consume'
          alarm: true
          active-alarm: 80
          capacity-alarm: 80
          notify:
            interval: 8
            receives: xxx
```




