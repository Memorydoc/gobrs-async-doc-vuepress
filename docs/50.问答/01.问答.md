---
title: FAQ
date: 2020-05-25 12:01:52
permalink: /pages/9cc27d
sidebar: false
article: false
---

- <a href="#租户和项目在-Gobrs-Async-中是什么意思">租户和项目在 Gobrs-Async 中是什么意思</a>
- <a href="#更新代码后运行时服务端sql报错">更新代码后运行时服务端SQL报错</a>
- <a href="#okhttp3-call-timeout-方法不存在">okHttp3 call.timeout() 方法不存在</a>
- <a href="#生产环境如何不启用动态线程池">生产环境如何不启用动态线程池</a>
- <a href="#server-端宕机会影响-client-运行么">Server 端宕机会影响 Client 运行么</a>
- <a href="#Gobrs-Async-的发布方式是怎样的-如何选择正确的版本">Gobrs-Async 的发布方式是怎样的？如何选择正确的版本</a>


## 租户和项目在 Gobrs-Async 中是什么意思

Gobrs-Async 按照租户、项目、线程池的维度划分

举个例子，小编在一家公司的公共组件团队，团队中负责消息、短链接网关等项目。公共组件是租户，消息或短链接就是项目

## 更新代码后运行时服务端SQL报错

如果更新代码运行功能出错，大概率是因为项目新增或修改了表结构。如版本升级迭代涉及数据库表变更，会额外提供 SQL 变更文件

如若第一次使用，初始化 SQL 脚本地址：[Gobrs-Async_manager.sql](https://github.com/Memorydoc/gobrs-async-starter/blob/develop/Gobrs-Async-server/conf/Gobrs-Async_manager.sql)

> 友情提示：每次执行数据库表或数据变更时，一定要保持提前备份的好习惯

## okHttp3 call.timeout() 方法不存在

请确保 okHttp3 依赖版本号 >= 3.12.0

```xml
<dependency>
    <groupId>com.squareup.okhttp3</groupId>
    <artifactId>okhttp</artifactId>
    <version>3.12.0</version>
</dependency>
```

## 生产环境如何不启用动态线程池

测试环境已经引入 Gobrs-Async，暂时不打算上线生产环境

生产环境指定配置 `spring.dynamic.thread-pool.enable=false`，测试环境和生产环境配置就会隔离

## Server 端宕机会影响 Client 运行么

不会。Client 端包含对 Server 端的健康检查机制，Server 端不可用时会停止交互，检查到可用时重新建立连接交互

## Gobrs-Async 的发布方式是怎样的？如何选择正确的版本

Gobrs-Async 发布时可能会涉及到两端发布，分别是 Server 和 Starter

- 如涉及 Server 发布，会在 [发布列表页面](https://github.com/Memorydoc/gobrs-async-starter/releases) 创建最新的发行版本
- 如涉及 Starter 发布，将直接推送 Starter Jar 至中央仓库，Server 包版本不变

如无特殊说明，**每一次的版本升级将兼容上一版本代码**。以 [版本号手册](/pages/d9387d) 最后版本为部署和使用标准


